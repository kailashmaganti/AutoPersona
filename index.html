<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AutoPersona AI</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
  body {
    font-family: 'Inter', sans-serif;
    background: #f5f7fa;
    color: #333;
    padding: 40px;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: background 0.3s, color 0.3s;
  }

  body.dark {
    background: #1e1e1e;
    color: #f1f1f1;
  }

  h1 {
    color: #2c3e50;
    font-size: 2.5em;
    margin-bottom: 20px;
  }

  form {
    background: #ffffff;
    padding: 30px;
    border-radius: 16px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    width: 100%;
    max-width: 500px;
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  body.dark form {
    background: #2b2b2b;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.05);
  }

  input, select, textarea {
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 8px;
    font-size: 1em;
  }

  button {
    background: #007bff;
    color: white;
    padding: 12px;
    border: none;
    border-radius: 8px;
    font-size: 1em;
    cursor: pointer;
    transition: background 0.3s ease;
  }

  button:hover {
    background: #0056b3;
  }

  .result {
    margin-top: 30px;
    max-width: 500px;
    background: #e6f2ff;
    padding: 20px;
    border-radius: 12px;
    white-space: pre-wrap;
  }

  body.dark .result {
    background: #333;
  }

  .theme-toggle {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    margin-bottom: 20px;
  }

  .result button {
    margin-top: 10px;
    background: #28a745;
  }

  .result button:hover {
    background: #1e7e34;
  }
</style>
</head>
<body>
  <label class="theme-toggle">
  <input type="checkbox" id="themeSwitch" onchange="toggleTheme()">
  <span>🌙 Toggle Dark Mode</span>
</label>

  <h1>🧠 AutoPersona AI</h1>
  <form method="post">
    <label for="style">Choose a persona style:</label>
<select name="style" id="style" required>
  <option value="professional">👔 Professional</option>
  <option value="fantasy">🧝 Fantasy</option>
  <option value="rpg">🧙 RPG Character</option>
  <option value="sci-fi">🚀 Sci-Fi AI</option>
  <option value="funny">😄 Funny</option>
</select>

    <input type="text" name="name" placeholder="Your name" required>
    <input type="text" name="hobbies" placeholder="Your hobbies" required>
    <select name="tone" required>
      <option value="" disabled selected>Select tone</option>
      <option value="funny">Funny</option>
      <option value="serious">Serious</option>
      <option value="creative">Creative</option>
      <option value="bold">Bold</option>
    </select>
    <button type="submit">Generate Persona</button>
  </form>

  {% if result %}
  <div class="result">
    <h3>Your AI Persona:</h3>
    <p id="personaText">{{ result }}</p>
    <button onclick="copyToClipboard()">📋 Copy</button>
  </div>

  <script>
    function copyToClipboard() {
      const text = document.getElementById("personaText").innerText;
      navigator.clipboard.writeText(text).then(() => {
        alert("Persona copied to clipboard!");
      }).catch(err => {
        alert("Failed to copy: " + err);
      });
    }
  </script>
{% endif %}
<script>
  function toggleTheme() {
    document.body.classList.toggle("dark");
    const isDark = document.body.classList.contains("dark");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  }

  window.onload = () => {
    if (localStorage.getItem("theme") === "dark") {
      document.body.classList.add("dark");
      document.getElementById("themeSwitch").checked = true;
    }
  };
</script>

</body>
</html>
